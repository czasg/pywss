---
title: è¯·æ±‚-æŸ¥è¯¢å‚æ•°
hide_title: true
hide_table_of_contents: false
slug: request-query
---

## æŸ¥è¯¢å‚æ•°

æˆ‘ä»¬é€šè¿‡æ¡ˆä¾‹æ¥è¯´æ˜Ž**æŸ¥è¯¢å‚æ•°**çš„ä½¿ç”¨ã€‚

```shell script title="æ¡ˆä¾‹"
curl http://127.0.0.1:8080/query?pageSize=10&pageNum=1&name=pywss
```
ä»¥ä¸Šè¯·æ±‚ä¸­ï¼ŒåŒ…å«çš„**æŸ¥è¯¢å‚æ•°**æœ‰ï¼š
- **pageSize**ï¼šå¯¹åº”å€¼ä¸º 10
- **pageNum**ï¼šå¯¹åº”å€¼ä¸º 1
- **name**ï¼šå¯¹åº”å€¼ä¸º pywss

å¯¹äºŽ Pywss åº”ç”¨æ¥è¯´ï¼Œä»–ä»¬å°†è½¬åŒ–ä¸ºå­—å…¸å¹¶å­˜å‚¨åœ¨ `ctx.url_params` ä¸­ã€‚
```shell script title="è¯»å–æŸ¥è¯¢å‚æ•°"
>>> print(ctx.url_params)
{
  "pageSize": "10",
  "pageNum": "1",
  "name": "pywss"
}
```
éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒPywss å¹¶æ²¡æœ‰åšä»»ä½• **ç±»åž‹è½¬åŒ–** çš„æ“ä½œï¼Œä½ èŽ·å–åˆ°çš„æ•°æ®æ˜¯æœ€åŽŸå§‹çš„ **å­—ç¬¦ä¸²** ç±»åž‹ã€‚

ä½†åœ¨å¤§å¤šæ•°åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬æ›´å¸Œæœ›å¯¹ä»–ä»¬åšç±»åž‹è½¬åŒ–ã€‚

æ¯”å¦‚åœ¨æ­¤ç”¨ä¾‹ä¸­ï¼Œæˆ‘ä»¬æ˜Žæ˜¾å¯ä»¥çœ‹å‡º **pageSize** å’Œ **pageNum** æ˜¯å±žäºŽ **int** ç±»åž‹ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©ä¸‰æ–¹åŒ…æ¥è§£å†³ç±»åž‹è½¬åŒ–ä¸Žæ ¡éªŒé—®é¢˜ï¼Œæ­¤å¤„ä»¥ **_pydantic_** ä¸¾ä¾‹ã€‚

```python title="ç±»åž‹è½¬åŒ–+æ ¡éªŒ" showLineNumbers {11}
import pywss

from pydantic import BaseModel

class HttpGetRequest(BaseModel):
    pageSize: int
    pageNum: int
    name: str

def query(ctx: pywss.Context):
    req = HttpGetRequest(**ctx.url_params)

app = pywss.App()
app.get("/query", query)
app.run()
```


## æŸ¥è¯¢å‚æ•°-é‡å¤å€¼
åœ¨æŸäº›åœºæ™¯ä¸‹ï¼ŒæŸ¥è¯¢å‚æ•°å¯èƒ½ä¼šå­˜åœ¨é‡å¤ **key** å€¼çš„æƒ…å†µã€‚æ¯”å¦‚ï¼š
```shell script title="æ¡ˆä¾‹"
curl http://127.0.0.1:8080/query?name=pywss&version=v0.1.18&version=v0.1.17
```
ä»¥ä¸Šè¯·æ±‚ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æŒ‡å®šäº†ä¸¤ä¸ª version å‚æ•°ã€‚

:::note ä¸ºä»€ä¹ˆä¼šæœ‰ä¸¤ä¸ªversionï¼Ÿ

æˆ–è®¸ç”¨æˆ·çš„æ„æ€æ˜¯å¸Œæœ›æŸ¥è¯¢ pywss ä¸­ **v0.1.18ã€v0.1.17** è¿™ä¸¤ä¸ªç‰ˆæœ¬çš„ä¿¡æ¯ðŸ˜µ

:::

å¯¹äºŽè¿™ç§æƒ…å†µï¼ŒPywss å°†åŽŸæœ¬çš„å­—ç¬¦ä¸²ç±»åž‹ `str` æ”¹æˆåˆ—è¡¨ `list`ã€‚ä»Žè€Œç¡®ä¿å…¨éƒ¨çš„å€¼å¯ä»¥è¢«æ­£ç¡®å­˜å‚¨ã€‚

ä¹Ÿå°±æ˜¯è¯´åœ¨ `ctx.url_params` ä¸­ï¼Œä½ å°†çœ‹åˆ°ä»¥ä¸‹å€¼ï¼š

```shell script title="è¯»å–æŸ¥è¯¢å‚æ•°"
>>> print(ctx.url_params)
{
  "name": "pywss",
  "version": ["v0.1.18", "v0.1.17"]
}
```
